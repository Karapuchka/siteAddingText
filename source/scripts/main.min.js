"use strict";const body=document.body,instructionBtn=document.querySelector(".instruction-btn"),formSearchTextAreas=document.querySelectorAll(".form-search__textarea"),formSearchBtns=document.querySelectorAll(".form-search__btn"),formSearch=document.forms.formSearch;function fromInputResultStyle(){0==formSearchTextAreas[2].value.length?(formSearchTextAreas[1].style.color="gray",formSearchTextAreas[1].innerText="Result"):formSearchTextAreas[1].style.color="black"}fromInputResultStyle();let countIndexResultLi=0;function addSpanToFormSearch(e){let t=document.createElement("span");return t.style.background="#71AAFF",t.innerText=""+e,t}function addListToFormSearch(){let e=document.createElement("ul");return e.style.display="flex",e.style.flexDirection="column",e.style.justifyContent="flex-start",e.style.width="100%",e.setAttribute("class","list-result"),e}function addItemListToFormSearch(e,t){let r=document.createElement("li");return r.style.width="100%",r.style.listStyle="none",r.style.cursor="pointer",r.innerText=t+": "+e,r}formSearch.addEventListener("click",function(t){if(t.target.closest(".form-search__btn")&&t.preventDefault(),t.target.closest("#formSearch__btn-search"))if(""==formSearchTextAreas[2].value)alert("Enter text"),fromInputResultStyle();else{formSearchTextAreas[1].innerText="";var r,t=formSearchTextAreas[2].value;let n=new RegExp(""+t,"gi"),e=0,a=[];const o=addListToFormSearch();for(formSearchTextAreas[1].appendChild(o);r=n.exec(formSearchTextAreas[0].value);)e++,a.push(n.lastIndex),o.appendChild(addItemListToFormSearch(r,e));fromInputResultStyle();const s=document.querySelectorAll(".list-result li");o.addEventListener("mouseover",function(e){if(e.target.closest("li").classList.contains("active"))return!1;e=e.target.closest("li"),gsap.to(e,{duration:1,background:"#f0f0f0",ease:"power4.out"})}),o.addEventListener("mouseout",function(e){if(e.target.closest("li").classList.contains("active"))return!1;e=e.target.closest("li"),gsap.to(e,{duration:1,background:"transparent",color:"#000",ease:"power4.out"})}),o.addEventListener("click",function(e){e.target.closest("li").classList.contains("active")?(e.target.closest("li").classList.remove("active"),gsap.to(e.target.closest("li"),{duration:1,background:"transparent",color:"#000",ease:"power4.out"})):(e.target.closest("li").classList.add("active"),s.forEach(function(e,t){var r,o;e.classList.contains("active")&&(n.lastIndex=a[t-1],e=n.exec(formSearchTextAreas[0].value),r=formSearchTextAreas[0].value.substring(0,n.lastIndex-e[0].length),o=formSearchTextAreas[0].value.substring(n.lastIndex,formSearchTextAreas[0].value.length),console.log(""+r+e+o),console.log(r),console.log(e),console.log(o),console.log(a[t]),console.log(a),console.log(e[0].length))}),gsap.to(e.target.closest("li"),{duration:1,background:"#71AAFF",color:"#fff",ease:"power4.out"}))})}});let countPart=0,valueIputsForm=(addMouseOver(instructionBtn,"#71AAFF"),addMouseOut(instructionBtn,"#000"),formSearchBtns.forEach(e=>{e.addEventListener("mouseover",function(){gsap.to(e,{duration:.7,background:"#71AAFF",ease:"power4.out"})}),e.addEventListener("mouseout",function(){gsap.to(e,{duration:.7,background:"#fff",ease:"power4.out"})})}),[]);function addSpanToInstruction(){let e=document.createElement("span");return e.innerText="ok",e.style.textTransform="uppercase",e.style.color="#71AAFF",e.style.textDecoration="underline",e.style.margin="0 0 0 10px",addMouseOver(e,"#19478c"),addMouseOut(e,"#71AAFF"),e}function addMouseOver(e,t){e.addEventListener("mouseover",function(){gsap.to(e,{duration:.7,color:t,ease:"power4.out"})})}function addMouseOut(e,t){e.addEventListener("mouseout",function(){gsap.to(e,{duration:.7,color:t,ease:"power4.out"})})}instructionBtn.addEventListener("click",function(e){countPart++,addMouseOver(instructionBtn,"#0029FF"),addMouseOut(instructionBtn,"#0029FF"),1==countPart&&(formSearchTextAreas.forEach(function(t){try{null==t.value&&0==t.value.length||(valueIputsForm.push(t.value),t.value="")}catch(e){null==t.innerText&&0==t.innerText.length||(valueIputsForm.push(t.innerText),t.innerText="")}}),gsap.to(instructionBtn,{textDecoration:"none",color:"#0029FF",ease:"power4.out"}),gsap.to([body,formSearchTextAreas[1],formSearchTextAreas[2],formSearchBtns],{duration:2,background:"#D8D8D8",ease:"power4.out",userSelect:"none"}),formSearchBtns.forEach(e=>{e.style.cursor="default",e.setAttribute("disabled","disabled")}),formSearchTextAreas.forEach(e=>{e.setAttribute("readonly","readonly")}),instructionBtn.innerText="In this field, you must enter the text in which the search will be performed.",instructionBtn.appendChild(addSpanToInstruction())),2==countPart&&(gsap.to(formSearchTextAreas[0],{duration:1,background:"#D8D8D8",ease:"power4.out"}),gsap.to(formSearchTextAreas[1],{duration:1,background:"#fff",ease:"power4.out"}),instructionBtn.innerText="In this field, you must enter the text that we will search for.",instructionBtn.appendChild(addSpanToInstruction())),3==countPart&&(gsap.to(formSearchTextAreas[1],{duration:1,background:"#D8D8D8",ease:"power4.out"}),gsap.to(formSearchTextAreas[2],{duration:1,background:"#fff",ease:"power4.out"}),instructionBtn.innerText="This field displays the final search result.",instructionBtn.appendChild(addSpanToInstruction())),4==countPart&&(gsap.to(formSearchTextAreas[2],{duration:1,background:"#D8D8D8",ease:"power4.out"}),gsap.to(formSearchBtns[0],{duration:1,background:"#fff",ease:"power4.out"}),instructionBtn.innerText="Pressing this button will search with an underline for the search word.",instructionBtn.appendChild(addSpanToInstruction())),5==countPart&&(gsap.to(formSearchBtns[0],{duration:1,background:"#D8D8D8",ease:"power4.out"}),gsap.to(formSearchBtns[1],{duration:1,background:"#fff",ease:"power4.out"}),instructionBtn.innerText="Pressing this button will replace the word.",instructionBtn.appendChild(addSpanToInstruction())),6==countPart&&(countPart=0,instructionBtn.innerText="How to use?",instructionBtn.style.textDecoration="underline",instructionBtn.style.color="#000",addMouseOver(instructionBtn,"#71AAFF"),addMouseOut(instructionBtn,"#000"),gsap.to([body,formSearchTextAreas,formSearchBtns],{duration:2,background:"#fff",ease:"power4.out"}),formSearchBtns.forEach(e=>{e.style.cursor="pointer",e.removeAttribute("disabled"),e.addEventListener("mouseover",function(){gsap.to(e,{duration:.7,background:"#71AAFF",ease:"power4.out"})}),e.addEventListener("mouseout",function(){gsap.to(e,{duration:.7,background:"#fff",ease:"power4.out"})})}),formSearchTextAreas[0].removeAttribute("readonly"),formSearchTextAreas[2].removeAttribute("readonly"),0!=valueIputsForm.length&&formSearchTextAreas.forEach(function(t,r){try{t.value=valueIputsForm[r]}catch(e){t.innerText=valueIputsForm[r]}}),valueIputsForm=[])});